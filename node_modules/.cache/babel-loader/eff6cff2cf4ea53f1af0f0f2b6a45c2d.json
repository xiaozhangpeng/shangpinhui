{"remainingRequest":"C:\\Users\\Administrator\\WebstormProjects\\app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\WebstormProjects\\app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\WebstormProjects\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\WebstormProjects\\app\\src\\pages\\Trade\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\WebstormProjects\\app\\src\\pages\\Trade\\index.vue","mtime":1648178404899},{"path":"C:\\Users\\Administrator\\WebstormProjects\\app\\babel.config.js","mtime":1647243068386},{"path":"C:\\Users\\Administrator\\WebstormProjects\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647341553526},{"path":"C:\\Users\\Administrator\\WebstormProjects\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1647341553791},{"path":"C:\\Users\\Administrator\\WebstormProjects\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647341553526},{"path":"C:\\Users\\Administrator\\WebstormProjects\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":1647341949719}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.find\";\nimport _defineProperty from \"C:/Users/Administrator/WebstormProjects/app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/web.dom.iterable\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState } from \"vuex\";\nexport default {\n  name: \"Trade\",\n  data: function data() {\n    return {\n      //手机买家的留言信息\n      msg: \"\"\n    };\n  },\n  methods: {\n    // 修改默认地址\n    changeDefault: function changeDefault(address, addressInfo) {\n      // 全部的isDefault为零\n      addressInfo.forEach(function (item) {\n        return item.isDefault = 0;\n      });\n      address.isDefault = 1;\n    },\n    // 提交订单\n    submitOrder: function submitOrder() {\n      // 交易编码\n      var tradeNo = this.orderInfo.tradeNo;\n      var data = {\n        consignee: this.userDefaultAddress.consignee,\n        consigneeTel: this.userDefaultAddress.phoneNum,\n        deliveryAddress: this.userDefaultAddress.fullAddress,\n        paymentWay: \"ONLINE\",\n        orderComment: this.msg,\n        orderDetailList: [{\n          id: null,\n          orderId: null,\n          skuId: 6,\n          skuName: \" Apple iPhone 11 (A2223) 128GB 红色 移动联通电信22\",\n          imgUrl: \"http://182.92.128.115:8080//rBFUDF6V0JmAG9XGAAGL4LZv5fQ163.png\",\n          orderPrice: 4343,\n          skuNum: 2,\n          hasStock: null\n        }, {\n          id: null,\n          orderId: null,\n          skuId: 4,\n          skuName: \"Apple iPhone 11 (A2223) 128GB 红色\",\n          imgUrl: \"http://182.92.128.115:80800/rBFUDF6VzaeANzIOAAL1X4gVWEE035.png\",\n          orderPrice: 5999,\n          skuNum: 1,\n          hasStock: null\n        }]\n      };\n    }\n  },\n  // 生命周期函数：挂载完毕\n  mounted: function mounted() {\n    this.$store.dispatch(\"getUserAddress\");\n    this.$store.dispatch(\"getOrderInfo\");\n  },\n  computed: _objectSpread(_objectSpread({}, mapState({\n    addressInfo: function addressInfo(state) {\n      return state.trade.address;\n    },\n    orderInfo: function orderInfo(state) {\n      return state.trade.orderInfo;\n    }\n  })), {}, {\n    //将来提交订单最终选中地址\n    userDefaultAddress: function userDefaultAddress() {\n      // find：查找数组中符合条件的元素返回，作为最终结果\n      return this.addressInfo.find(function (item) {\n        return item.isDefault == 1;\n      }) || {};\n    }\n  })\n};",{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;AACAA,eADA;AAEAC,MAFA,kBAEA;AACA;AACA;AACAC;AAFA;AAIA,GAPA;AAQAC;AACA;AACAC,iBAFA,yBAEAC,OAFA,EAEAC,WAFA,EAEA;AACA;AACAA;AAAA;AAAA;AACAD;AACA,KANA;AAOA;AACAE,eARA,yBAQA;AACA;AACA;AACA;AACAC,oDADA;AAEAC,sDAFA;AAGAC,4DAHA;AAIAC,4BAJA;AAKAC,8BALA;AAMAC,0BACA;AACAC,kBADA;AAEAC,uBAFA;AAGAC,kBAHA;AAIAC,+DAJA;AAKAC,kBACA,gEANA;AAOAC,0BAPA;AAQAC,mBARA;AASAC;AATA,SADA,EAYA;AACAP,kBADA;AAEAC,uBAFA;AAGAC,kBAHA;AAIAC,qDAJA;AAKAC,kBACA,gEANA;AAOAC,0BAPA;AAQAC,mBARA;AASAC;AATA,SAZA;AANA;AA+BA;AA1CA,GARA;AAoDA;AACAC,SArDA,qBAqDA;AACA;AACA;AACA,GAxDA;AAyDAC,4CACAC;AACAlB;AAAA;AAAA,KADA;AAEAmB;AAAA;AAAA;AAFA,IADA;AAKA;AACAC,sBANA,gCAMA;AACA;AACA;AAAA;AAAA;AACA;AATA;AAzDA","names":["name","data","msg","methods","changeDefault","address","addressInfo","submitOrder","consignee","consigneeTel","deliveryAddress","paymentWay","orderComment","orderDetailList","id","orderId","skuId","skuName","imgUrl","orderPrice","skuNum","hasStock","mounted","computed","mapState","orderInfo","userDefaultAddress"],"sourceRoot":"src/pages/Trade","sources":["index.vue"],"sourcesContent":["<template>\r\n  <div class=\"trade-container\">\r\n    <h3 class=\"title\">填写并核对订单信息</h3>\r\n    <div class=\"content\">\r\n      <h5 class=\"receive\">收件人信息</h5>\r\n      <div\r\n        class=\"address clearFix\"\r\n        v-for=\"(address, index) in addressInfo\"\r\n        :key=\"address.id\"\r\n      >\r\n        <span class=\"username\" :class=\"{ selected: address.isDefault == 1 }\">{{\r\n          address.consignee\r\n        }}</span>\r\n        <p @click=\"changeDefault(address, addressInfo)\">\r\n          <span class=\"s1\">{{ address.fullAddress }}</span>\r\n          <span class=\"s2\">{{ address.phoneNum }}</span>\r\n          <span class=\"s3\" v-show=\"address.isDefault == 1\">默认地址</span>\r\n        </p>\r\n      </div>\r\n\r\n      <div class=\"line\"></div>\r\n      <h5 class=\"pay\">支付方式</h5>\r\n      <div class=\"address clearFix\">\r\n        <span class=\"username selected\">在线支付</span>\r\n        <span class=\"username\" style=\"margin-left: 5px\">货到付款</span>\r\n      </div>\r\n      <div class=\"line\"></div>\r\n      <h5 class=\"pay\">送货清单</h5>\r\n      <div class=\"way\">\r\n        <h5>配送方式</h5>\r\n        <div class=\"info clearFix\">\r\n          <span class=\"s1\">天天快递</span>\r\n          <p>配送时间：预计8月10日（周三）09:00-15:00送达</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"detail\">\r\n        <h5>商品清单</h5>\r\n        <ul\r\n          class=\"list clearFix\"\r\n          v-for=\"(order, index) in orderInfo.detailArrayList\"\r\n          :key=\"order.id\"\r\n        >\r\n          <li>\r\n            <img\r\n              :src=\"order.imgUrl\"\r\n              style=\"width: 100px; height: 100px\"\r\n              alt=\"\"\r\n            />\r\n          </li>\r\n          <li>\r\n            <p>{{ order.skuName }}</p>\r\n            <h4>7天无理由退货</h4>\r\n          </li>\r\n          <li>\r\n            <h3>￥{{ order.orderPrice }}</h3>\r\n          </li>\r\n          <li>X{{ order.skuNum }}</li>\r\n          <li>有货</li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"bbs\">\r\n        <h5>买家留言：</h5>\r\n        <textarea\r\n          placeholder=\"建议留言前先与商家沟通确认\"\r\n          class=\"remarks-cont\"\r\n          v-model=\"msg\"\r\n        ></textarea>\r\n      </div>\r\n      <div class=\"line\"></div>\r\n      <div class=\"bill\">\r\n        <h5>发票信息：</h5>\r\n        <div>普通发票（电子） 个人 明细</div>\r\n        <h5>使用优惠/抵用</h5>\r\n      </div>\r\n    </div>\r\n    <div class=\"money clearFix\">\r\n      <ul>\r\n        <li>\r\n          <b\r\n            ><i>{{ orderInfo.totalNum }}</i\r\n            >件商品，总商品金额</b\r\n          >\r\n          <span>¥{{ orderInfo.totalAmount }}.00</span>\r\n        </li>\r\n        <li>\r\n          <b>返现：</b>\r\n          <span>0.00</span>\r\n        </li>\r\n        <li>\r\n          <b>运费：</b>\r\n          <span>0.00</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"trade\">\r\n      <div class=\"price\">\r\n        应付金额:　<span>¥{{ orderInfo.totalAmount }}.00</span>\r\n      </div>\r\n      <div class=\"receiveInfo\">\r\n        寄送至:\r\n        <span>{{ userDefaultAddress.fullAddress }}</span>\r\n        收货人：<span>{{ userDefaultAddress.consignee }}</span>\r\n        <span>{{ userDefaultAddress.phoneNum }}</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"sub clearFix\">\r\n      <a class=\"subBtn\" @click=\"submitOrder\">提交订单</a>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  name: \"Trade\",\r\n  data() {\r\n    return {\r\n      //手机买家的留言信息\r\n      msg: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    // 修改默认地址\r\n    changeDefault(address, addressInfo) {\r\n      // 全部的isDefault为零\r\n      addressInfo.forEach((item) => (item.isDefault = 0));\r\n      address.isDefault = 1;\r\n    },\r\n    // 提交订单\r\n    submitOrder() {\r\n      // 交易编码\r\n      let { tradeNo } = this.orderInfo;\r\n      let data = {\r\n        consignee: this.userDefaultAddress.consignee,\r\n        consigneeTel: this.userDefaultAddress.phoneNum,\r\n        deliveryAddress: this.userDefaultAddress.fullAddress,\r\n        paymentWay: \"ONLINE\",\r\n        orderComment: this.msg,\r\n        orderDetailList: [\r\n          {\r\n            id: null,\r\n            orderId: null,\r\n            skuId: 6,\r\n            skuName: \" Apple iPhone 11 (A2223) 128GB 红色 移动联通电信22\",\r\n            imgUrl:\r\n              \"http://182.92.128.115:8080//rBFUDF6V0JmAG9XGAAGL4LZv5fQ163.png\",\r\n            orderPrice: 4343,\r\n            skuNum: 2,\r\n            hasStock: null,\r\n          },\r\n          {\r\n            id: null,\r\n            orderId: null,\r\n            skuId: 4,\r\n            skuName: \"Apple iPhone 11 (A2223) 128GB 红色\",\r\n            imgUrl:\r\n              \"http://182.92.128.115:80800/rBFUDF6VzaeANzIOAAL1X4gVWEE035.png\",\r\n            orderPrice: 5999,\r\n            skuNum: 1,\r\n            hasStock: null,\r\n          },\r\n        ],\r\n      };\r\n    },\r\n  },\r\n  // 生命周期函数：挂载完毕\r\n  mounted() {\r\n    this.$store.dispatch(\"getUserAddress\");\r\n    this.$store.dispatch(\"getOrderInfo\");\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      addressInfo: (state) => state.trade.address,\r\n      orderInfo: (state) => state.trade.orderInfo,\r\n    }),\r\n    //将来提交订单最终选中地址\r\n    userDefaultAddress() {\r\n      // find：查找数组中符合条件的元素返回，作为最终结果\r\n      return this.addressInfo.find((item) => item.isDefault == 1) || {};\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.trade-container {\r\n  .title {\r\n    width: 1200px;\r\n    margin: 0 auto;\r\n    font-size: 14px;\r\n    line-height: 21px;\r\n  }\r\n\r\n  .content {\r\n    width: 1200px;\r\n    margin: 10px auto 0;\r\n    border: 1px solid rgb(221, 221, 221);\r\n    padding: 25px;\r\n    box-sizing: border-box;\r\n\r\n    .receive,\r\n    .pay {\r\n      line-height: 36px;\r\n      margin: 18px 0;\r\n    }\r\n\r\n    .address {\r\n      padding-left: 20px;\r\n      margin-bottom: 15px;\r\n\r\n      .username {\r\n        float: left;\r\n        width: 100px;\r\n        height: 30px;\r\n        line-height: 30px;\r\n        text-align: center;\r\n        border: 1px solid #ddd;\r\n        position: relative;\r\n      }\r\n\r\n      .username::after {\r\n        content: \"\";\r\n        display: none;\r\n        width: 13px;\r\n        height: 13px;\r\n        position: absolute;\r\n        right: 0;\r\n        bottom: 0;\r\n        background: url(./images/choosed.png) no-repeat;\r\n      }\r\n\r\n      .username.selected {\r\n        border-color: #e1251b;\r\n      }\r\n\r\n      .username.selected::after {\r\n        display: block;\r\n      }\r\n\r\n      p {\r\n        width: 610px;\r\n        float: left;\r\n        line-height: 30px;\r\n        margin-left: 10px;\r\n        padding-left: 5px;\r\n        cursor: pointer;\r\n\r\n        .s1 {\r\n          float: left;\r\n        }\r\n\r\n        .s2 {\r\n          float: left;\r\n          margin: 0 5px;\r\n        }\r\n\r\n        .s3 {\r\n          float: left;\r\n          width: 56px;\r\n          height: 24px;\r\n          line-height: 24px;\r\n          margin-left: 10px;\r\n          background-color: #878787;\r\n          color: #fff;\r\n          margin-top: 3px;\r\n          text-align: center;\r\n        }\r\n      }\r\n\r\n      p:hover {\r\n        background-color: #ddd;\r\n      }\r\n    }\r\n\r\n    .line {\r\n      height: 1px;\r\n      background-color: #ddd;\r\n    }\r\n\r\n    .way {\r\n      width: 1080px;\r\n      height: 110px;\r\n      background: #f4f4f4;\r\n      padding: 15px;\r\n      margin: 0 auto;\r\n\r\n      h5 {\r\n        line-height: 50px;\r\n      }\r\n\r\n      .info {\r\n        margin-top: 20px;\r\n\r\n        .s1 {\r\n          float: left;\r\n          border: 1px solid #ddd;\r\n          width: 120px;\r\n          height: 30px;\r\n          line-height: 30px;\r\n          text-align: center;\r\n          margin-right: 10px;\r\n        }\r\n\r\n        p {\r\n          line-height: 30px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .detail {\r\n      width: 1080px;\r\n\r\n      background: #feedef;\r\n      padding: 15px;\r\n      margin: 2px auto 0;\r\n\r\n      h5 {\r\n        line-height: 50px;\r\n      }\r\n\r\n      .list {\r\n        display: flex;\r\n        justify-content: space-between;\r\n\r\n        li {\r\n          line-height: 30px;\r\n\r\n          p {\r\n            margin-bottom: 20px;\r\n          }\r\n\r\n          h4 {\r\n            color: #c81623;\r\n            font-weight: 400;\r\n          }\r\n\r\n          h3 {\r\n            color: #e12228;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .bbs {\r\n      margin-bottom: 15px;\r\n\r\n      h5 {\r\n        line-height: 50px;\r\n      }\r\n\r\n      textarea {\r\n        width: 100%;\r\n        border-color: #e4e2e2;\r\n        line-height: 1.8;\r\n        outline: none;\r\n        resize: none;\r\n      }\r\n    }\r\n\r\n    .bill {\r\n      h5 {\r\n        line-height: 50px;\r\n      }\r\n\r\n      div {\r\n        padding-left: 15px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .money {\r\n    width: 1200px;\r\n    margin: 20px auto;\r\n\r\n    ul {\r\n      width: 220px;\r\n      float: right;\r\n\r\n      li {\r\n        line-height: 30px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n\r\n        i {\r\n          color: red;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .trade {\r\n    box-sizing: border-box;\r\n    width: 1200px;\r\n    padding: 10px;\r\n    margin: 10px auto;\r\n    text-align: right;\r\n    background-color: #f4f4f4;\r\n    border: 1px solid #ddd;\r\n\r\n    div {\r\n      line-height: 30px;\r\n    }\r\n\r\n    .price span {\r\n      color: #e12228;\r\n      font-weight: 700;\r\n      font-size: 14px;\r\n    }\r\n\r\n    .receiveInfo {\r\n      color: #999;\r\n    }\r\n  }\r\n\r\n  .sub {\r\n    width: 1200px;\r\n    margin: 0 auto 10px;\r\n\r\n    .subBtn {\r\n      float: right;\r\n      width: 164px;\r\n      height: 56px;\r\n      font: 700 18px \"微软雅黑\";\r\n      line-height: 56px;\r\n      text-align: center;\r\n      color: #fff;\r\n      background-color: #e1251b;\r\n    }\r\n  }\r\n}\r\n</style>"]}]}